<!DOCTYPE html>
<html lang="fr"><head>
    <title>Raskm</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#000084" />
    <link rel="icon" href="http://raskm.legtux.org/favicon.ico">
    <link rel="canonical" href="http://raskm.legtux.org">
    
    
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"></button>
            <a class="brand" href="http://raskm.legtux.org">Raskm</a>
            <div class="nav-collapse collapse">
                <ul class="nav">
                    
                    
                        
                            <li>
                                <a href="/post/code/">
                                    
                                    <span>Code</span>&nbsp;&nbsp;| 
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/post/linux/">
                                    
                                    <span>Linux</span>&nbsp;&nbsp;| 
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/windows/">
                                    
                                    <span>Windows</span>&nbsp;&nbsp;| 
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/post/retro/">
                                    
                                    <span>Retro</span>&nbsp;&nbsp;| 
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/android/">
                                    
                                    <span>Android</span>&nbsp;&nbsp;| 
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/privacy/">
                                    
                                    <span>Vie privée</span>&nbsp;&nbsp;| 
                                </a>
                            </li>
                        
                    
                        
                            <li>
                                <a href="/about">
                                    
                                    <span>Contact</span>&nbsp;&nbsp;| 
                                </a>
                            </li>
                        
                    
                </ul>
            </div>
        </div>
    </div>
</nav><div id="content" class="container">

<div class="row-fluid navmargin">
    <div class="page-header">
        <h1>[DEBIAN] Utiliser la bibliothèque graphique wxWidget dans Code::Blocks - Sat, Oct 10, 2020</h1>
    </div>
    <p class="lead">Guide pour installer et utiliser la bibliothèque wxWidget dans Code::Blocks</p>
    

<h4 id="ce-guide-a-pour-but-d-expliquer-comment-installer-la-bibliothèque-wxwidget-sur-son-système-debian-et-de-l-utiliser-ensuite-dans-l-environnement-de-développement-code-blocks">Ce guide a pour but d&rsquo;expliquer comment installer la bibliothèque wxWidget sur son système Debian et de l&rsquo;utiliser ensuite dans l&rsquo;environnement de développement Code::Blocks.</h4>

<p>Dans un premier temps, mettre à jour la liste des paquets disponibles :
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">apt get update</code></pre></div></p>

<p>Puis installer le compilateur :
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">apt install build-essential</code></pre></div></p>

<p>Et enfin, installer la librairie wxgtk3.0
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">apt install libwxgtk3.0-dev</code></pre></div></p>

<p>Créer un fichier nommé testwx.cpp et y inscrire le hello world de wxWidget :
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">// wxWidgets &#34;Hello world&#34; Program
</span><span style="color:#75715e">// For compilers that support precompilation, includes &#34;wx/wx.h&#34;.
</span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;wx/wxprec.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#ifndef WX_PRECOMP
</span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;wx/wx.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#endif
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">MyApp</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">public</span> wxApp
{
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">bool</span> OnInit();
};
<span style="color:#66d9ef">class</span><span style="color:#960050;background-color:#1e0010"> </span><span style="color:#a6e22e">MyFrame</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">public</span> wxFrame
{
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    MyFrame(<span style="color:#66d9ef">const</span> wxString<span style="color:#f92672">&amp;</span> title, <span style="color:#66d9ef">const</span> wxPoint<span style="color:#f92672">&amp;</span> pos, <span style="color:#66d9ef">const</span> wxSize<span style="color:#f92672">&amp;</span> size);
<span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">void</span> OnHello(wxCommandEvent<span style="color:#f92672">&amp;</span> event);
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">OnExit</span>(wxCommandEvent<span style="color:#f92672">&amp;</span> event);
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">OnAbout</span>(wxCommandEvent<span style="color:#f92672">&amp;</span> event);
    wxDECLARE_EVENT_TABLE();
};
<span style="color:#66d9ef">enum</span>
{
    ID_Hello <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
};
wxBEGIN_EVENT_TABLE(MyFrame, wxFrame)
    EVT_MENU(ID_Hello,   MyFrame<span style="color:#f92672">::</span>OnHello)
    EVT_MENU(wxID_EXIT,  MyFrame<span style="color:#f92672">::</span>OnExit)
    EVT_MENU(wxID_ABOUT, MyFrame<span style="color:#f92672">::</span>OnAbout)
wxEND_EVENT_TABLE()
wxIMPLEMENT_APP(MyApp);
<span style="color:#66d9ef">bool</span> MyApp<span style="color:#f92672">::</span>OnInit()
{
    MyFrame <span style="color:#f92672">*</span>frame <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MyFrame( <span style="color:#e6db74">&#34;Hello World&#34;</span>, wxPoint(<span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">50</span>), wxSize(<span style="color:#ae81ff">450</span>, <span style="color:#ae81ff">340</span>) );
    frame<span style="color:#f92672">-&gt;</span>Show( true );
    <span style="color:#66d9ef">return</span> true;
}
MyFrame<span style="color:#f92672">::</span>MyFrame(<span style="color:#66d9ef">const</span> wxString<span style="color:#f92672">&amp;</span> title, <span style="color:#66d9ef">const</span> wxPoint<span style="color:#f92672">&amp;</span> pos, <span style="color:#66d9ef">const</span> wxSize<span style="color:#f92672">&amp;</span> size)
        <span style="color:#f92672">:</span> wxFrame(NULL, wxID_ANY, title, pos, size)
{
    wxMenu <span style="color:#f92672">*</span>menuFile <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> wxMenu;
    menuFile<span style="color:#f92672">-&gt;</span>Append(ID_Hello, <span style="color:#e6db74">&#34;&amp;Hello...</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">Ctrl-H&#34;</span>,
                     <span style="color:#e6db74">&#34;Help string shown in status bar for this menu item&#34;</span>);
    menuFile<span style="color:#f92672">-&gt;</span>AppendSeparator();
    menuFile<span style="color:#f92672">-&gt;</span>Append(wxID_EXIT);
    wxMenu <span style="color:#f92672">*</span>menuHelp <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> wxMenu;
    menuHelp<span style="color:#f92672">-&gt;</span>Append(wxID_ABOUT);
    wxMenuBar <span style="color:#f92672">*</span>menuBar <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> wxMenuBar;
    menuBar<span style="color:#f92672">-&gt;</span>Append( menuFile, <span style="color:#e6db74">&#34;&amp;File&#34;</span> );
    menuBar<span style="color:#f92672">-&gt;</span>Append( menuHelp, <span style="color:#e6db74">&#34;&amp;Help&#34;</span> );
    SetMenuBar( menuBar );
    CreateStatusBar();
    SetStatusText( <span style="color:#e6db74">&#34;Welcome to wxWidgets!&#34;</span> );
}
<span style="color:#66d9ef">void</span> MyFrame<span style="color:#f92672">::</span>OnExit(wxCommandEvent<span style="color:#f92672">&amp;</span> event)
{
    Close( true );
}
<span style="color:#66d9ef">void</span> MyFrame<span style="color:#f92672">::</span>OnAbout(wxCommandEvent<span style="color:#f92672">&amp;</span> event)
{
    wxMessageBox( <span style="color:#e6db74">&#34;This is a wxWidgets&#39; Hello world sample&#34;</span>,
                  <span style="color:#e6db74">&#34;About Hello World&#34;</span>, wxOK <span style="color:#f92672">|</span> wxICON_INFORMATION );
}
<span style="color:#66d9ef">void</span> MyFrame<span style="color:#f92672">::</span>OnHello(wxCommandEvent<span style="color:#f92672">&amp;</span> event)
{
    wxLogMessage(<span style="color:#e6db74">&#34;Hello world from wxWidgets!&#34;</span>);
}
</code></pre></div></p>

<p>Maintenant, essayez de le compiler avec g++ :
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">g++ testwx.cpp <span style="color:#e6db74">`</span>wx-config --cxxflags --libs<span style="color:#e6db74">`</span> -o testwx</code></pre></div>
Ne surtout pas omettre les apostrophes inversés dans la commande, sinon cela ne fonctionnera pas.</p>

<h4 id="explication-de-la-commande-et-de-ses-paramètres">Explication de la commande et de ses paramètres :</h4>

<ul>
<li>&gt; g++ est le compilateur C++.</li>
<li>&gt; testwx.cpp est notre fichier source.</li>
<li>&gt; wx-config précise au compilateur la bibliothèque à ajouter.</li>
<li>&gt; &ndash;cxxflags est une variable d&rsquo;environnement nécessaire pour compiler.</li>
<li>&gt; &ndash;libs pour linker au compilateur les librairies nécessaires.</li>
<li>&gt; -o pour spécifier le fichier en sortie, ici testwx.</li>
</ul>

<p>Si le compilateur n&rsquo;a pas indiqué d&rsquo;erreur, tout s&rsquo;est passé comme prévu.</p>

<p>Tester l&rsquo;exécutable :
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./testwx</code></pre></div></p>

<p>Vous devriez avoir comme résultat, ceci :</p>

<p><img src="/img/wxConsole.png" alt="résultat démarrage hello world wx"></p>

<hr />

<h1 id="dans-code-blocks">Dans Code::Blocks</h1>

<p>Créer un nouveau projet</p>

<p><kbd>Create a new project &gt; Empty project</kbd></p>

<p>Donner un nom à son projet :</p>

<p><img src="/img/wxCodeBlocks1.png" alt="Création du projet"></p>

<p>Sélectionner le compilateur :</p>

<p><img src="/img/wxCodeBlocks2.png" alt="Sélection du compilateur"></p>

<p>Créer un nouveau fichier nommé main.cpp et l&rsquo;inclure dans le scope <kbd>Debug</kbd> et <kbd>Release</kbd></p>

<p>Saisir le code du hello world que l&rsquo;on a vu ci-dessus dans le fichier précedemment créé.</p>

<p>Si vous essayez de compiler tout de suite, vous aurez une erreur :</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">||===</span> Build: Debug in testwxWidget <span style="color:#f92672">(</span>compiler: GNU GCC Compiler<span style="color:#f92672">)</span> <span style="color:#f92672">===</span>|
/home/rackm/Code/C++/testwxWidget/main.cpp|<span style="color:#ae81ff">1</span>|fatal error: wx/wxprec.h: Aucun fichier ou dossier de ce type|
<span style="color:#f92672">||===</span> Build failed: <span style="color:#ae81ff">1</span> error<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>, <span style="color:#ae81ff">0</span> warning<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> minute<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>, <span style="color:#ae81ff">0</span> second<span style="color:#f92672">(</span>s<span style="color:#f92672">))</span> <span style="color:#f92672">===</span>|</code></pre></div>

<p>Cela est dû au fait que l&rsquo;on n&rsquo;a pas précisé au compilateur qu&rsquo;il faut utiliser la bibliothèque wxWidget.</p>

<p>Pour se faire, cliquer dans la barre de menu sur <kbd>Project &gt; Build Options.</kbd></p>

<p>Dans l&rsquo;onglet <kbd>&ldquo;Compiler settings&rdquo;</kbd> puis <kbd>&ldquo;Compiler Flags&rdquo;</kbd> vous verrez une catégorie <kbd>&ldquo;Général&rdquo;</kbd>.
Faire un clic droit sur un champs déjà existant et cliquer sur <kbd>&ldquo;New Flag&rdquo;</kbd>.</p>

<p>Remplir votre nouveau flag de la façon suivante :</p>

<p><img src="/img/wxFlag1.png" alt="Remplissage du flag dans Code::Blocks"></p>

<p>Puis créer un second flag de la façon suivante :</p>

<p><img src="/img/wxFlag2.png" alt="Remplissage du flag dans Code::Blocks"></p>

<p>Une fois les flags créés, cocher la case en face.</p>

<p>Essayez maintenant de compiler, vous ne devriez maintenant plus avoir d&rsquo;erreur, félicitations !</p>

    <h4><a href="http://raskm.legtux.org">Retour à l&#39;accueil</a></h4>
</div>


        </div><footer class="container">
    <hr class="soften">
    <p>

    Aucun cookie ou tracker en tout genre n&rsquo;est installé sur ce site web, ne pistant donc pas ses utilisateurs. | 

&copy; 
<a href="https://github.com/Raskm" target="_blank">
    AGN Axel
</a>
<span id="thisyear">2020</span>

    | Hébergé gracieusement par <a href="https://www.legtux.org/">Legtux</a>


        | Propulsé par <a href="//gohugo.io" target="_blank">Hugo</a>
</p>
    <p class="text-center">
        <a href="https://www.facebook.com/axel.agnan.5">Facebook</a> 
        
        <a href="https://www.linkedin.com/in/axelagnan/">Linkedin</a> 
        <a href="https://github.com/Raskm">GitHub</a> 
        
    </p>
</footer>

</body><link rel="stylesheet" href="/css/bootstrap.css">
<link rel="stylesheet" href="/css/bootstrap-responsive.css">
<link rel="stylesheet" href="/css/style.css">

<script src="/js/jquery.js"></script>
<script src="/js/bootstrap-386.js"></script>
<script src="/js/bootstrap-transition.js"></script>
<script src="/js/bootstrap-alert.js"></script>
<script src="/js/bootstrap-modal.js"></script>
<script src="/js/bootstrap-dropdown.js"></script>
<script src="/js/bootstrap-scrollspy.js"></script>
<script src="/js/bootstrap-tab.js"></script>
<script src="/js/bootstrap-tooltip.js"></script>
<script src="/js/bootstrap-popover.js"></script>
<script src="/js/bootstrap-button.js"></script>
<script src="/js/bootstrap-collapse.js"></script>
<script src="/js/bootstrap-carousel.js"></script>
<script src="/js/bootstrap-typeahead.js"></script>
<script src="/js/bootstrap-affix.js"></script>
<script>
    _386 = { 
        fastLoad: false ,
        onePass: false , 
        speedFactor: 1 
    };

    
    function ThisYear() {
        document.getElementById('thisyear').innerHTML = new Date().getFullYear();
    };
</script></html>
